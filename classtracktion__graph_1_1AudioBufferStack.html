<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TracktionEngine: tracktion_graph::AudioBufferStack Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TracktionEngine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacetracktion__graph.html">tracktion_graph</a></li><li class="navelem"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html">AudioBufferStack</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classtracktion__graph_1_1AudioBufferStack-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tracktion_graph::AudioBufferStack Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A stack of audio buffers.  
 <a href="classtracktion__graph_1_1AudioBufferStack.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4a6b13001fcae55f34def546e0c69270"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a4a6b13001fcae55f34def546e0c69270">AudioBufferStack</a> ()=default</td></tr>
<tr class="memdesc:a4a6b13001fcae55f34def546e0c69270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an empty stack.  <a href="classtracktion__graph_1_1AudioBufferStack.html#a4a6b13001fcae55f34def546e0c69270">More...</a><br /></td></tr>
<tr class="separator:a4a6b13001fcae55f34def546e0c69270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d225063137fbdbfe85fd0256245ea40"><td class="memItemLeft" align="right" valign="top">choc::buffer::ChannelArrayBuffer&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a9d225063137fbdbfe85fd0256245ea40">allocate</a> (choc::buffer::Size)</td></tr>
<tr class="memdesc:a9d225063137fbdbfe85fd0256245ea40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an allocated buffer for a given size from the stack.  <a href="classtracktion__graph_1_1AudioBufferStack.html#a9d225063137fbdbfe85fd0256245ea40">More...</a><br /></td></tr>
<tr class="separator:a9d225063137fbdbfe85fd0256245ea40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ba8f6aee11905e2325b935ffac7457"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a50ba8f6aee11905e2325b935ffac7457">release</a> (choc::buffer::ChannelArrayBuffer&lt; float &gt; &amp;&amp;)</td></tr>
<tr class="memdesc:a50ba8f6aee11905e2325b935ffac7457"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases an allocated buffer back to the stack.  <a href="classtracktion__graph_1_1AudioBufferStack.html#a50ba8f6aee11905e2325b935ffac7457">More...</a><br /></td></tr>
<tr class="separator:a50ba8f6aee11905e2325b935ffac7457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a30a3937e2c3fb34a4229d3a35948a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a19a30a3937e2c3fb34a4229d3a35948a">reset</a> ()</td></tr>
<tr class="memdesc:a19a30a3937e2c3fb34a4229d3a35948a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases all the internal allocated storage.  <a href="classtracktion__graph_1_1AudioBufferStack.html#a19a30a3937e2c3fb34a4229d3a35948a">More...</a><br /></td></tr>
<tr class="separator:a19a30a3937e2c3fb34a4229d3a35948a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63891af30a5eaa73a58096dc5cab9a2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a63891af30a5eaa73a58096dc5cab9a2d">reserve</a> (size_t numBuffers, choc::buffer::Size)</td></tr>
<tr class="memdesc:a63891af30a5eaa73a58096dc5cab9a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserves a number of buffers of a given size, preallocating them.  <a href="classtracktion__graph_1_1AudioBufferStack.html#a63891af30a5eaa73a58096dc5cab9a2d">More...</a><br /></td></tr>
<tr class="separator:a63891af30a5eaa73a58096dc5cab9a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b878908f9dbcd37a8a69edfe4ea0852"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a0b878908f9dbcd37a8a69edfe4ea0852">getNumBuffers</a> ()</td></tr>
<tr class="memdesc:a0b878908f9dbcd37a8a69edfe4ea0852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current number of buffers in the stack.  <a href="classtracktion__graph_1_1AudioBufferStack.html#a0b878908f9dbcd37a8a69edfe4ea0852">More...</a><br /></td></tr>
<tr class="separator:a0b878908f9dbcd37a8a69edfe4ea0852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d03cc4d0700cd7be509be3a5f43473b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a2d03cc4d0700cd7be509be3a5f43473b">getAllocatedSize</a> ()</td></tr>
<tr class="memdesc:a2d03cc4d0700cd7be509be3a5f43473b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the currently allocated size of all the buffers in bytes.  <a href="classtracktion__graph_1_1AudioBufferStack.html#a2d03cc4d0700cd7be509be3a5f43473b">More...</a><br /></td></tr>
<tr class="separator:a2d03cc4d0700cd7be509be3a5f43473b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A stack of audio buffers. </p>
<p>If you need to quickly create and then return some audio buffers this class enables you to do that.</p>
<p>Note that the buffers can be pre-allocated but if you ask for a buffer which isn't in the pool, it will either resize an existing one or allocate a new one.</p>
<p>After processing a constant audio graph for a while though this should be completely allocation and lock-free.</p>
<p>However, it is not thread safe so you should use a different stack for each thread! </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4a6b13001fcae55f34def546e0c69270"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a6b13001fcae55f34def546e0c69270">&#9670;&nbsp;</a></span>AudioBufferStack()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tracktion_graph::AudioBufferStack::AudioBufferStack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create an empty stack. </p>
<p>You won't be able to use this pool right away, you must reserve some a number of buffers for it to use first. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a63891af30a5eaa73a58096dc5cab9a2d" title="Reserves a number of buffers of a given size, preallocating them.">reserve</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9d225063137fbdbfe85fd0256245ea40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d225063137fbdbfe85fd0256245ea40">&#9670;&nbsp;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">choc::buffer::ChannelArrayBuffer&lt; float &gt; tracktion_graph::AudioBufferStack::allocate </td>
          <td>(</td>
          <td class="paramtype">choc::buffer::Size&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an allocated buffer for a given size from the stack. </p>
<p>This will attempt to get a buffer from the pre-allocated pool that can fit the size but if one can't easily be found, it will allocate one with new and return it.</p>
<p>Additionally, the returned buffer may be bigger than the size asked for so be sure to only use a view of it but retain ownership of the whole buffer. You can release it back to the pool later. It will also contain junk so be sure to clear or initialise the view required before use. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classtracktion__graph_1_1AudioBufferStack.html#a50ba8f6aee11905e2325b935ffac7457" title="Releases an allocated buffer back to the stack.">release</a> </dd></dl>

</div>
</div>
<a id="a50ba8f6aee11905e2325b935ffac7457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ba8f6aee11905e2325b935ffac7457">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tracktion_graph::AudioBufferStack::release </td>
          <td>(</td>
          <td class="paramtype">choc::buffer::ChannelArrayBuffer&lt; float &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases an allocated buffer back to the stack. </p>

</div>
</div>
<a id="a19a30a3937e2c3fb34a4229d3a35948a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19a30a3937e2c3fb34a4229d3a35948a">&#9670;&nbsp;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tracktion_graph::AudioBufferStack::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases all the internal allocated storage. </p>

</div>
</div>
<a id="a63891af30a5eaa73a58096dc5cab9a2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63891af30a5eaa73a58096dc5cab9a2d">&#9670;&nbsp;</a></span>reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tracktion_graph::AudioBufferStack::reserve </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">choc::buffer::Size&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserves a number of buffers of a given size, preallocating them. </p>

</div>
</div>
<a id="a0b878908f9dbcd37a8a69edfe4ea0852"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b878908f9dbcd37a8a69edfe4ea0852">&#9670;&nbsp;</a></span>getNumBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tracktion_graph::AudioBufferStack::getNumBuffers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current number of buffers in the stack. </p>

</div>
</div>
<a id="a2d03cc4d0700cd7be509be3a5f43473b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d03cc4d0700cd7be509be3a5f43473b">&#9670;&nbsp;</a></span>getAllocatedSize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t tracktion_graph::AudioBufferStack::getAllocatedSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the currently allocated size of all the buffers in bytes. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="tracktion__AudioBufferStack_8h.html">tracktion_AudioBufferStack.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Sep 26 2022 18:07:53 for TracktionEngine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
